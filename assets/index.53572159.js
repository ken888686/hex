import{c as L,a as $,b as d,r as m,o as u,d as f,e as i,f as c,w as p,g as P,h as b,i as v,F as E,j as x,k as N,l as S}from"./vendor.4d1ca4dd.js";const C=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}};C();const g=L({plugins:[$({storage:window.localStorage})],state(){return{isLogin:!1,token:"ready-to-generate"}},mutations:{login(e){e.isLogin=!0},logout(e){e.isLogin=!1},updateToken(e,o){e.token=o}},actions:{login({commit:e},o){e("login"),e("updateToken",o)},logout({commit:e}){e("logout"),e("updateToken","")}}}),_="https://vue3-course-api.hexschool.io",O="ken888686",T={login(e,o){return new Promise((n,s)=>{d.post(`${_}/v2/admin/signin`,{username:e,password:o}).then(t=>{n(t)}).catch(t=>{s(t)})})},logout(){return new Promise((e,o)=>{d.post(`${_}/v2/logout`,{},{headers:{authorization:g.state.token}}).then(n=>{e(n)}).catch(n=>{o(n)})})},check(){return new Promise((e,o)=>{d.post(`${_}/v2/api/user/check`,{},{headers:{authorization:g.state.token}}).then(n=>{e(n)}).catch(n=>{o(n)})})},getProducts(){return new Promise((e,o)=>{d.get(`${_}/v2/api/${O}/admin/products`,{headers:{authorization:g.state.token}}).then(n=>{e(n)}).catch(n=>{o(n)})})}};var A="/vite-vue3-app/assets/logo.03d6d6da.png",k=(e,o)=>{const n=e.__vccOpts||e;for(const[s,t]of o)n[s]=t;return n};const V={name:"Navbar",data(){return{logoSize:25}},computed:{isLogin(){return this.$store.state.isLogin}},mounted(){},methods:{logout(){T.logout().then(e=>{alert(e.data.message),this.$store.dispatch("logout"),this.$router.go()}).catch(e=>{alert(e.response.data.message),console.dir(e)})}}},W={class:"navbar navbar-expand-lg navbar-light bg-light"},j={class:"container"},z=["width","height"],D=i("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[i("span",{class:"navbar-toggler-icon"})],-1),R={id:"navbarSupportedContent",class:"collapse navbar-collapse"},I={class:"navbar-nav me-auto mb-2 mb-lg-0"},B={class:"nav-item dropdown"},F=i("a",{id:"navbarDropdown",class:"nav-link dropdown-toggle fw-bold",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," \u6BCF\u9031\u4EFB\u52D9 ",-1),H={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},q=v(" Week 1 "),K=v(" Week 2 "),G=v(" \u767B\u5165 ");function J(e,o,n,s,t,r){const a=m("router-link");return u(),f("nav",W,[i("div",j,[c(a,{class:"navbar-brand",to:"/"},{default:p(()=>[i("img",{src:A,alt:"logo",width:t.logoSize,height:t.logoSize},null,8,z)]),_:1}),D,i("div",R,[i("ul",I,[i("li",B,[F,i("ul",H,[i("li",null,[c(a,{class:"dropdown-item",to:"/week-1"},{default:p(()=>[q]),_:1})]),i("li",null,[c(a,{class:"dropdown-item",to:"/week-2"},{default:p(()=>[K]),_:1})])])])])]),r.isLogin?b("",!0):(u(),P(a,{key:0,to:"/login",type:"button",class:"btn btn-primary"},{default:p(()=>[G]),_:1})),r.isLogin?(u(),f("button",{key:1,type:"button",class:"btn btn-outline-primary",onClick:o[0]||(o[0]=(...l)=>r.logout&&r.logout(...l))}," \u767B\u51FA ")):b("",!0)])])}var M=k(V,[["render",J]]);const Q={components:{Navbar:M}};function U(e,o,n,s,t,r){const a=m("Navbar"),l=m("router-view");return u(),f(E,null,[c(a),c(l)],64)}var X=k(Q,[["render",U]]);const Y="modulepreload",w={},Z="/vite-vue3-app/",h=function(o,n){return!n||n.length===0?o():Promise.all(n.map(s=>{if(s=`${Z}${s}`,s in w)return;w[s]=!0;const t=s.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${r}`))return;const a=document.createElement("link");if(a.rel=t?"stylesheet":Y,t||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),t)return new Promise((l,y)=>{a.addEventListener("load",l),a.addEventListener("error",y)})})).then(()=>o())},ee=[{path:"/",name:"Home",component:()=>h(()=>import("./Home.2171f7d7.js"),["assets/Home.2171f7d7.js","assets/vendor.4d1ca4dd.js"])},{path:"/login",name:"Login",component:()=>h(()=>import("./Login.0743f1f5.js"),["assets/Login.0743f1f5.js","assets/Login.9e1b12fd.css","assets/vendor.4d1ca4dd.js"])},{path:"/week-1",name:"Week 1",component:()=>h(()=>import("./Week-1.44a439d8.js"),["assets/Week-1.44a439d8.js","assets/Week-1.1ac72454.css","assets/vendor.4d1ca4dd.js"])},{path:"/week-2",name:"Week 2",component:()=>h(()=>import("./Week-2.fca77de1.js"),["assets/Week-2.fca77de1.js","assets/vendor.4d1ca4dd.js"])}],te=x({history:N("/vite-vue3-app/"),linkActiveClass:"active",routes:ee});S(X).use(te).use(g).mount("#app");export{k as _,T as a,te as r,g as s};
