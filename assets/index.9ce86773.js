import{c as E,a as x,b as d,d as c,r as b,o as h,e as k,f as i,g as u,w as _,h as N,i as w,j as f,F as O,k as S,l as W,m as C}from"./vendor.d617f8c6.js";const T=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}};T();const $=E({plugins:[x({storage:window.localStorage})],state(){return{isLogin:d.get("isLogin"),token:d.get("token")}},mutations:{login(t){t.isLogin=!0,d.set("isLogin",!0)},logout(t){t.isLogin=!1,d.set("isLogin",!1),d.set("token","")},updateToken(t,o){t.token=o,d.set("token",o)}},actions:{login({commit:t},o){t("login"),t("updateToken",o)},logout({commit:t}){t("logout"),t("updateToken","")}}}),l="https://vue3-course-api.hexschool.io",v="ken888686",p={headers:{authorization:$.state.token}},A={login(t,o){return new Promise((n,r)=>{c.post(`${l}/v2/admin/signin`,{username:t,password:o}).then(e=>{n(e)}).catch(e=>{r(e)})})},logout(){return new Promise((t,o)=>{c.post(`${l}/v2/logout`,{},p).then(n=>{t(n)}).catch(n=>{o(n)})})},check(){return new Promise((t,o)=>{c.post(`${l}/v2/api/user/check`,{},p).then(n=>{t(n)}).catch(n=>{o(n)})})}},ae={getProducts(t=1,o=""){return new Promise((n,r)=>{c.get(`${l}/v2/api/${v}/admin/products?page=${t}&category=${o}`,p).then(e=>{n(e)}).catch(e=>{r(e)})})},addProduct(t){return new Promise((o,n)=>{c.post(`${l}/v2/api/${v}`,t,p).then(r=>{o(r)}).catch(r=>{n(r)})})},deleteProduct(t){return new Promise((o,n)=>{c.delete(`${l}/v2/api/${v}/admin/product/${t}`,p).then(r=>{o(r)}).catch(r=>{n(r)})})},editProduct(t,o){return new Promise((n,r)=>{c.put(`${l}/v2/api/${v}/admin/product/${t}`,o,p).then(e=>{n(e)}).catch(e=>{r(e)})})}};var V="/hex/assets/logo.03d6d6da.png",y=(t,o)=>{const n=t.__vccOpts||t;for(const[r,e]of o)n[r]=e;return n};const j={name:"Navbar",data(){return{logoSize:25}},computed:{isLogin(){return this.$store.state.isLogin}},mounted(){},methods:{logout(){A.logout().then(t=>{alert(t.data.message),this.$store.dispatch("logout"),this.$router.go()}).catch(t=>{alert(t.response.data.message),console.dir(t)})}}},D={class:"navbar navbar-expand-lg navbar-light bg-light"},R={class:"container"},I=["width","height"],z=i("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[i("span",{class:"navbar-toggler-icon"})],-1),B={id:"navbarSupportedContent",class:"collapse navbar-collapse"},F={class:"navbar-nav me-auto mb-2 mb-lg-0"},H={class:"nav-item dropdown"},q=i("a",{id:"navbarDropdown",class:"nav-link dropdown-toggle fw-bold",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," \u6BCF\u9031\u4EFB\u52D9 ",-1),K={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},G=f(" Week 1 "),J=f(" Week 2 "),M=f(" Week 3 "),Q=f(" \u767B\u5165 ");function U(t,o,n,r,e,s){const a=b("router-link");return h(),k("nav",D,[i("div",R,[u(a,{class:"navbar-brand",to:"/"},{default:_(()=>[i("img",{src:V,alt:"logo",width:e.logoSize,height:e.logoSize},null,8,I)]),_:1}),z,i("div",B,[i("ul",F,[i("li",H,[q,i("ul",K,[i("li",null,[u(a,{class:"dropdown-item",to:"/week-1"},{default:_(()=>[G]),_:1})]),i("li",null,[u(a,{class:"dropdown-item",to:"/week-2"},{default:_(()=>[J]),_:1})]),i("li",null,[u(a,{class:"dropdown-item",to:"/week-3"},{default:_(()=>[M]),_:1})])])])])]),s.isLogin?w("",!0):(h(),N(a,{key:0,to:"/login",type:"button",class:"btn btn-primary"},{default:_(()=>[Q]),_:1})),s.isLogin?(h(),k("button",{key:1,type:"button",class:"btn btn-outline-primary",onClick:o[0]||(o[0]=(...g)=>s.logout&&s.logout(...g))}," \u767B\u51FA ")):w("",!0)])])}var X=y(j,[["render",U]]);const Y={components:{Navbar:X}};function Z(t,o,n,r,e,s){const a=b("Navbar"),g=b("router-view");return h(),k(O,null,[u(a),u(g)],64)}var ee=y(Y,[["render",Z]]);const te="modulepreload",L={},oe="/hex/",m=function(o,n){return!n||n.length===0?o():Promise.all(n.map(r=>{if(r=`${oe}${r}`,r in L)return;L[r]=!0;const e=r.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const a=document.createElement("link");if(a.rel=e?"stylesheet":te,e||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),e)return new Promise((g,P)=>{a.addEventListener("load",g),a.addEventListener("error",P)})})).then(()=>o())},ne=[{path:"/",name:"Home",component:()=>m(()=>import("./Home.fbb92803.js"),["assets/Home.fbb92803.js","assets/vendor.d617f8c6.js"])},{path:"/login",name:"Login",component:()=>m(()=>import("./Login.d71a6c60.js"),["assets/Login.d71a6c60.js","assets/Login.ed2f6283.css","assets/vendor.d617f8c6.js"])},{path:"/week-1",name:"Week 1",component:()=>m(()=>import("./Week-1.26fc132f.js"),["assets/Week-1.26fc132f.js","assets/Week-1.1ac72454.css","assets/vendor.d617f8c6.js"])},{path:"/week-2",name:"Week 2",component:()=>m(()=>import("./Week-2.fa74cfa9.js"),["assets/Week-2.fa74cfa9.js","assets/vendor.d617f8c6.js"])},{path:"/week-3",name:"Week 3",component:()=>m(()=>import("./Week-3.fa3c66dd.js"),["assets/Week-3.fa3c66dd.js","assets/vendor.d617f8c6.js"])}],re=S({history:W("/hex/"),linkActiveClass:"active",routes:ne});C(ee).use(re).use($).mount("#app");export{y as _,A as a,ae as b,re as r,$ as s};
