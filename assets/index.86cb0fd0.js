import{c as x,a as N,b as u,d as c,e as O,f as S,r as k,o as h,g as w,h as i,i as p,w as g,j as W,k as y,l as f,F as C,m as T}from"./vendor.4f38da8a.js";const A=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(e){if(e.ep)return;e.ep=!0;const a=n(e);fetch(e.href,a)}};A();const v=x({plugins:[N({storage:window.localStorage})],state(){return{isLogin:u.get("isLogin"),token:u.get("token")}},mutations:{login(t){t.isLogin=!0,u.set("isLogin",!0)},logout(t){t.isLogin=!1,u.set("isLogin",!1),u.set("token","")},updateToken(t,o){t.token=o,u.set("token",o)}},actions:{login({commit:t},o){t("login"),t("updateToken",o)},logout({commit:t}){t("logout"),t("updateToken","")}}}),l="https://vue3-course-api.hexschool.io",b="ken888686",d={headers:{authorization:v.state.token}},V={login(t,o){return new Promise((n,r)=>{c.post(`${l}/v2/admin/signin`,{username:t,password:o}).then(e=>{d.headers.authorization=e.data.token,n(e)}).catch(e=>{r(e)})})},logout(){return new Promise((t,o)=>{c.post(`${l}/v2/logout`,{},d).then(n=>{t(n)}).catch(n=>{o(n)})})},check(){return new Promise((t,o)=>{c.post(`${l}/v2/api/user/check`,{},d).then(n=>{t(n)}).catch(n=>{o(n)})})}},se={getProducts(t=1,o=""){return new Promise((n,r)=>{c.get(`${l}/v2/api/${b}/admin/products?page=${t}&category=${o}`,d).then(e=>{n(e)}).catch(e=>{r(e)})})},addProduct(t){return new Promise((o,n)=>{c.post(`${l}/v2/api/${b}`,t,d).then(r=>{o(r)}).catch(r=>{n(r)})})},deleteProduct(t){return new Promise((o,n)=>{c.delete(`${l}/v2/api/${b}/admin/product/${t}`,d).then(r=>{o(r)}).catch(r=>{n(r)})})},editProduct(t,o){return new Promise((n,r)=>{c.put(`${l}/v2/api/${b}/admin/product/${t}`,o,d).then(e=>{n(e)}).catch(e=>{r(e)})})}},j="modulepreload",L={},D="/hex/",m=function(o,n){return!n||n.length===0?o():Promise.all(n.map(r=>{if(r=`${D}${r}`,r in L)return;L[r]=!0;const e=r.endsWith(".css"),a=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${a}`))return;const s=document.createElement("link");if(s.rel=e?"stylesheet":j,e||(s.as="script",s.crossOrigin=""),s.href=r,document.head.appendChild(s),e)return new Promise((_,E)=>{s.addEventListener("load",_),s.addEventListener("error",E)})})).then(()=>o())},R=[{path:"/",name:"Home",component:()=>m(()=>import("./Home.58ec4279.js"),["assets/Home.58ec4279.js","assets/vendor.4f38da8a.js"])},{path:"/login",name:"Login",component:()=>m(()=>import("./Login.bf3a6949.js"),["assets/Login.bf3a6949.js","assets/Login.ed2f6283.css","assets/vendor.4f38da8a.js"])},{path:"/week-1",name:"Week 1",component:()=>m(()=>import("./Week-1.3d214f02.js"),["assets/Week-1.3d214f02.js","assets/Week-1.1ac72454.css","assets/vendor.4f38da8a.js"])},{path:"/week-2",name:"Week 2",component:()=>m(()=>import("./Week-2.2aa246e5.js"),["assets/Week-2.2aa246e5.js","assets/vendor.4f38da8a.js"])},{path:"/week-3",name:"Week 3",component:()=>m(()=>import("./Week-3.cc016dcb.js"),["assets/Week-3.cc016dcb.js","assets/vendor.4f38da8a.js"])}],$=O({history:S("/hex/"),linkActiveClass:"active",routes:R});var I="/hex/assets/logo.03d6d6da.png",P=(t,o)=>{const n=t.__vccOpts||t;for(const[r,e]of o)n[r]=e;return n};const z={name:"Navbar",data(){return{logoSize:25}},computed:{isLogin(){return v.state.isLogin}},mounted(){},methods:{logout(){V.logout().then(t=>{alert(t.data.message),v.dispatch("logout"),$.push("/")}).catch(t=>{alert(t.response.data.message),console.dir(t)})}}},B={class:"navbar navbar-expand-lg navbar-light bg-light"},F={class:"container"},H=["width","height"],q=i("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[i("span",{class:"navbar-toggler-icon"})],-1),K={id:"navbarSupportedContent",class:"collapse navbar-collapse"},G={class:"navbar-nav me-auto mb-2 mb-lg-0"},J={class:"nav-item dropdown"},M=i("a",{id:"navbarDropdown",class:"nav-link dropdown-toggle fw-bold",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," \u6BCF\u9031\u4EFB\u52D9 ",-1),Q={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},U=f(" Week 1 "),X=f(" Week 2 "),Y=f(" Week 3 "),Z=f(" \u767B\u5165 ");function ee(t,o,n,r,e,a){const s=k("router-link");return h(),w("nav",B,[i("div",F,[p(s,{class:"navbar-brand",to:"/"},{default:g(()=>[i("img",{src:I,alt:"logo",width:e.logoSize,height:e.logoSize},null,8,H)]),_:1}),q,i("div",K,[i("ul",G,[i("li",J,[M,i("ul",Q,[i("li",null,[p(s,{class:"dropdown-item",to:"/week-1"},{default:g(()=>[U]),_:1})]),i("li",null,[p(s,{class:"dropdown-item",to:"/week-2"},{default:g(()=>[X]),_:1})]),i("li",null,[p(s,{class:"dropdown-item",to:"/week-3"},{default:g(()=>[Y]),_:1})])])])])]),a.isLogin?y("",!0):(h(),W(s,{key:0,to:"/login",type:"button",class:"btn btn-primary"},{default:g(()=>[Z]),_:1})),a.isLogin?(h(),w("button",{key:1,type:"button",class:"btn btn-outline-primary",onClick:o[0]||(o[0]=(..._)=>a.logout&&a.logout(..._))}," \u767B\u51FA ")):y("",!0)])])}var te=P(z,[["render",ee]]);const oe={components:{Navbar:te}};function ne(t,o,n,r,e,a){const s=k("Navbar"),_=k("router-view");return h(),w(C,null,[p(s),p(_)],64)}var re=P(oe,[["render",ne]]);T(re).use($).use(v).mount("#app");export{P as _,V as a,se as b,$ as r,v as s};
